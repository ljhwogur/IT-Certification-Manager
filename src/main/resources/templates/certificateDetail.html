<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>자격증 상세 정보</title>
    <script th:inline="javascript">
        let v = [[${certificateInfo}]];
        console.log(v);
    </script>
</head>
<body>
<h1 th:text="${certificateName}">자격증 이름</h1>

<!-- items가 존재할 경우 데이터 표시 -->
<div th:if="${certificateInfo != null and certificateInfo['items'] != null}">
    <h2>자격증 시험 일정</h2>
    <table>
        <thead>
        <tr>
            <th>구분</th>
            <th>필기 원서접수</th>
            <th>필기시험</th>
            <th>필기합격 발표</th>
            <th>실기 원서접수</th>
            <th>실기시험</th>
            <th>최종합격자 발표</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="item : ${certificateInfo['items']}">
            <td th:text="${item['implplannm']}">구분</td>
            <td th:text="${item['docregstartdt']} + ' ~ ' + ${item['docregenddt']}">필기 원서접수</td>
            <td th:text="${item['docexamstartdt']} + ' ~ ' + ${item['docexamenddt']}">필기시험</td>
            <td th:text="${item['docpassdt']}">필기합격 발표</td>
            <td th:text="${item['pracregstartdt']} + ' ~ ' + ${item['pracregenddt']}">실기 원서접수</td>
            <td th:text="${item['pracexamstartdt']} + ' ~ ' + ${item['pracexamenddt']}">실기시험</td>
            <td th:text="${item['pracpassstartdt']} + ' ~ ' + ${item['pracpassenddt']}">최종합격자 발표</td>
        </tr>
        </tbody>
    </table>
</div>

<!-- 데이터가 없는 경우 -->
<div th:if="${certificateInfo == null or certificateInfo['items'] == null}">
    <p>해당 자격증의 정보를 가져올 수 없습니다.</p>
</div>

<a href="/certificates">목록으로 돌아가기</a>
</body>
</html>
